<html>
    <head>
    <title>Trail</title>
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    
    <script type="text/javascript" src="https://static.codehs.com/gulp/7666c7e4765f71aa338f37e94853d4cc7ed720a0/chs-js-lib/chs.js"></script>
    
    
    <style>
    canvas {
        border: 1px solid black;
        display: inline-block;
        vertical-align: top;
    }
    pre {
        border: 1px solid black;
        display: inline-block;
        width: 400px;
        height: 500px;
        background-color: #F5F5F5;
    }
    </style>
    
    </head>
    
    <body>
    <h1>Trail</h1>
    
    
    
    <canvas
    width="400"
    height="500"
    class="codehs-editor-canvas"></canvas>
    
    <script>
    window.onload = function() {
        var MAX_BOUNCES = Randomizer.nextInt(30) + 10;
    var ball;
    var ball2;
    var counter = 0;
    var bounces = 0;
    var dx = Randomizer.nextInt(8) + 1;
    var dy = Randomizer.nextInt(8) + 1;
    /* This program has a ball bounce around the screen. 
     * Its path is drawn by drawing different colored balls everywhere it goes.
     */
    function start(){
        ball = new Circle(20);
        ball.setPosition(100, 100);
        add(ball);
        setTimer(draw, 20);
    }
    
    function draw(){
        ball.move(dx, dy);
        checkWalls();
        drawTrail();
        Bounces();
        counter++
    }
    function drawTrail() {
        ball2 = new Circle(10);
        ball2.setPosition(ball.getX(), ball.getY());
        ball2.setColor('cyan');
        add(ball2);
    }
    function Bounces() {
        if (bounces == MAX_BOUNCES) {
            stopAllTimers();
        }
    }
    function checkWalls(){
        // Bounce off right wall
        if(ball.getX() + ball.getRadius() > getWidth()){
            dx = -dx;
            bounces++
        }
        // Bounce off left wall
        if(ball.getX() - ball.getRadius() < 0){
            dx = -dx;
            bounces++
        }
        // Bounce off bottom wall
        if(ball.getY() + ball.getRadius() > getHeight()){
            dy = -dy;
            bounces++
        }
        // Bounce off top wall
        if(ball.getY() - ball.getRadius() < 0){
            dy = -dy;
            bounces++
        }
    }
        if (typeof start === 'function') {
            start();
        }
    };
    </script>
    </body>
    </html>